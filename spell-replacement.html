<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="description" content="Replace spell with html characters" />
  <meta charset="utf-8">
  <title>Character Sheet Test Page</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="author" content="">
</head>

<body>
  <label>Input:
    <textarea id="input"></textarea>
  </label>
  <label>Output:
    <textarea id="output"></textarea>
  </label>
  <button onclick="convert(event);">Convert</button>
<script>
const inputText = document.getElementById('input');
const outputText = document.getElementById('output');
function convert(event) {
  output.value = '';
  stringArray = [];
  let text = input.value;
  for (i = text.length - 1; i >= 0; i--) {
    let char = text.charCodeAt(i);
    if ((48 <= char && char <= 57)
        || (65 <= char && char <= 90)
        || (97 <= char && char <= 122)
        || char == ':'.charCodeAt(0)
        || char == ' '.charCodeAt(0)
        || char == ','.charCodeAt(0)
        || char == '='.charCodeAt(0)
        || char == '+'.charCodeAt(0)) {
      stringArray.unshift(text.charAt(i));
    } else {
      stringArray.unshift(`&#${char};`);
    }
  }
  output.value = stringArray.join('');
}
</script>

</body>
</html>